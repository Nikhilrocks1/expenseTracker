<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <form id="form">
    <label for="username">UserName:</label>
   <input name="username" type="text" required><br>
   <label for="email">Email:</label>
   <input name="email" type="email" required><br>
   <label for="phone">PhoneNumber:</label>
   <input name="phone" type="tel" required><br>
   <button type="submit">Submit</button>
  </form>
  <ul id="listOfUsers"></ul>
  <script>
    let form=document.getElementById("form");
    form.addEventListener("submit",submitDetails);
      
   function submitDetails(e){
    e.preventDefault();
   let name= e.target.username.value;
     let email= e.target.email.value;
    let phone= e.target.phone.value;
    let obj={
     name,
     email,
     phone
    }
      localStorage.setItem(obj.email,JSON.stringify(obj));
     
    // showNewUserOnScreen(obj);
    }
      window.addEventListener("DOMContentLoaded",() => {
        const localStorageObj=localStorage;
        const localStoragekeys=Object.keys(localStorageObj);
     
        for(var i=0;i<localStoragekeys,length;i++){
          const key = localStoragekeys[i];
          const userDetailsString=localStorageObj[key];
        
          const userDetailsObj=JSON.parse(userDetailsString);
          
          showNewUserOnScreen(userDetailsObj);
        }
      })

       function showNewUserOnScreen(user){
           const parentNode=document.getElementById('listOfUsers');
           const childHTML=`<li id=${user.email}>${user.name} ${user.email}</li>`;
           parentNode.innerHTML=parentNode.innerHTML+childHTML;
       }
  </script>
</body>
</html>